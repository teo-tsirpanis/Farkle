<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <FarkleSuppressGrammarErrors Condition="'$(FarkleSuppressGrammarErrors)' == ''">false</FarkleSuppressGrammarErrors>
  </PropertyGroup>

  <UsingTask
      Condition="$(FarkleEnablePrecompiler) != false"
      TaskName="Farkle.Tools.MSBuild.FarklePrecompileTask"
      AssemblyFile="$(FarkleTaskAssembly)"/>

  <Target
      Name="FarklePrecompileGrammars"
      Condition="$(FarkleEnablePrecompiler) != false"
      DependsOnTargets="CheckForMSBuild16">
    <FarklePrecompileTask
        AssemblyPath="@(IntermediateAssembly)"
        WeaverName="Farkle.Tools.Precompiler"
        Configuration="@(SigourneyConfiguration)"
        SuppressGrammarErrors="$(FarkleSuppressGrammarErrors)"
        GenerateDocumentation="$(FarkleGenerateDocumentation)"
        DocumentationOutputPath="$(OutputPath)"
        DocumentationCustomHead="$(FarkleDocumentationCustomHead)"
        DocumentationNoCss="$(FarkleDocumentationNoCss)"
        DocumentationNoLALRStates="$(FarkleDocumentationNoLALRStates)"
        DocumentationNoDFAStates="$(FarkleDocumentationNoDFAStates)">
      <Output TaskParameter="GeneratedDocumentationFiles" ItemName="FileWrites"/>
    </FarklePrecompileTask>
  </Target>
</Project>
